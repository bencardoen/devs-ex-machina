Extensive examples are provided in our Controller testing classes. For each formalism a model was created which the user can use as a reference implementation.\\

\subsection{example}

\begin{lstlisting}
std::ofstream filestream("controller/devstestcoupled.txt");
{
	CoutRedirect myRedirect(filestream);
	auto tracers = createObject<n_tracers::t_tracerset>();
	
	std::unordered_map<std::size_t, t_coreptr> coreMap;
	std::shared_ptr<Allocator> allocator = 
		createObject<SimpleAllocator>(1);
	std::shared_ptr<n_control::LocationTable> locTab = 
		createObject<n_control::LocationTable>(1);
	
	t_coreptr c = createObject<Core>();
	coreMap[0] = c;
	
	Controller ctrl("testController", coreMap, allocator, 
		locTab, tracers);
	ctrl.setClassicDEVS();
	ctrl.setTerminationTime(t_timestamp(360, 0));
	
	t_coupledmodelptr m1 = createObject<n_examples_coupled::
		TrafficSystem>("trafficSystem");
	ctrl.addModel(m1);
	
	ctrl.simulate();
	EXPECT_TRUE(c->isLive() == false);
	EXPECT_TRUE(c->getTime() >= t_timestamp(360, 0));
};
\end{lstlisting}